# News Posts API - Swagger Documentation

## –û–≥–ª—è–¥

–¶–µ–π –ø—Ä–æ–µ–∫—Ç –≤–∫–ª—é—á–∞—î –ø–æ–≤–Ω—É –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω—É –≥–µ–Ω–µ—Ä–∞—Ü—ñ—é API –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—ó –∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é Swagger UI —Ç–∞ swagger-autogen.

## üöÄ –®–≤–∏–¥–∫–∏–π —Å—Ç–∞—Ä—Ç

1. –ó–∞–ø—É—Å—Ç—ñ—Ç—å —Å–µ—Ä–≤–µ—Ä:
```bash
npm run dev:server
```

2. –í—ñ–¥–∫—Ä–∏–π—Ç–µ Swagger UI:
```
http://localhost:8000/api-docs
```

3. –ü–µ—Ä–µ–≥–ª—è–¥–∞–π—Ç–µ JSON –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—é:
```
http://localhost:8000/api-docs.json
```

## üìñ –î–æ—Å—Ç—É–ø –¥–æ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—ó

### Swagger UI
–Ü–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è –∑ –º–æ–∂–ª–∏–≤—ñ—Å—Ç—é —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è API:
- **URL**: `http://localhost:8000/api-docs`
- **–§—É–Ω–∫—Ü—ñ—ó**: –¢–µ—Å—Ç—É–≤–∞–Ω–Ω—è endpoint'—ñ–≤, –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü—ñ—è, –ø—Ä–∏–∫–ª–∞–¥–∏ –∑–∞–ø–∏—Ç—ñ–≤/–≤—ñ–¥–ø–æ–≤—ñ–¥–µ–π

### JSON –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è
Raw JSON —Å—Ö–µ–º–∞ –¥–ª—è —ñ–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—ó –∑ —ñ–Ω—à–∏–º–∏ —ñ–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞–º–∏:
- **URL**: `http://localhost:8000/api-docs.json`
- **–í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è**: –Ü–º–ø–æ—Ä—Ç –≤ Postman, –∞–≤—Ç–æ–≥–µ–Ω–µ—Ä–∞—Ü—ñ—è –∫–ª—ñ—î–Ω—Ç—ñ–≤

## ‚öôÔ∏è –ì–µ–Ω–µ—Ä–∞—Ü—ñ—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—ó

### –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–∞ –≥–µ–Ω–µ—Ä–∞—Ü—ñ—è
–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –≥–µ–Ω–µ—Ä—É—î—Ç—å—Å—è –ø—Ä–∏ –∫–æ–∂–Ω–æ–º—É –∑–∞–ø—É—Å–∫—É —Å–µ—Ä–≤–µ—Ä–∞ –∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é `swagger-autogen`.

### –†—É—á–Ω–∞ –≥–µ–Ω–µ—Ä–∞—Ü—ñ—è
```bash
npm run swagger:generate
```

## üîó API Endpoints

### üì∞ News Posts
- **GET** `/api/newsposts` - –°–ø–∏—Å–æ–∫ –ø–æ—Å—Ç—ñ–≤ –∑ –ø–∞–≥—ñ–Ω–∞—Ü—ñ—î—é —Ç–∞ —Ñ—ñ–ª—å—Ç—Ä–∞—Ü—ñ—î—é
- **GET** `/api/newsposts/{id}` - –û—Ç—Ä–∏–º–∞—Ç–∏ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–∏–π –ø–æ—Å—Ç
- **POST** `/api/newsposts` - –°—Ç–≤–æ—Ä–∏—Ç–∏ –Ω–æ–≤–∏–π –ø–æ—Å—Ç (–ø–æ—Ç—Ä–µ–±—É—î –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü—ñ—ó)
- **PUT** `/api/newsposts/{id}` - –û–Ω–æ–≤–∏—Ç–∏ –ø–æ—Å—Ç (–ø–æ—Ç—Ä–µ–±—É—î –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü—ñ—ó)  
- **DELETE** `/api/newsposts/{id}` - –í–∏–¥–∞–ª–∏—Ç–∏ –ø–æ—Å—Ç (–ø–æ—Ç—Ä–µ–±—É—î –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü—ñ—ó)

### üìÇ Categories
- **GET** `/api/newsposts/categories` - –°–ø–∏—Å–æ–∫ –≤—Å—ñ—Ö –∫–∞—Ç–µ–≥–æ—Ä—ñ–π

### üè• Health Check
- **GET** `/api/health` - –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ —Å—Ç–∞–Ω—É —Å–µ—Ä–≤–µ—Ä–∞

## üîê –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü—ñ—è

### Bearer Token
1. –û—Ç—Ä–∏–º–∞–π—Ç–µ JWT token —á–µ—Ä–µ–∑ –ø—Ä–æ—Ü–µ—Å –∞–≤—Ç–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ü—ñ—ó
2. –í–∏–∫–æ—Ä–∏—Å—Ç–∞–π—Ç–µ –∫–Ω–æ–ø–∫—É **"Authorize"** –≤ Swagger UI
3. –í–≤–µ–¥—ñ—Ç—å: `Bearer <your-token>`

### –†—É—á–Ω—ñ –∑–∞–ø–∏—Ç–∏
–î–æ–¥–∞–π—Ç–µ header:
```
Authorization: Bearer <your-token>
```

## üìä –°—Ö–µ–º–∏ –¥–∞–Ω–∏—Ö

### –û—Å–Ω–æ–≤–Ω—ñ –º–æ–¥–µ–ª—ñ
- **Post** - –ü–æ–≤–Ω–∞ –º–æ–¥–µ–ª—å –Ω–æ–≤–∏–Ω–Ω–æ–≥–æ –ø–æ—Å—Ç–∞
- **PostCreateRequest** - –î–∞–Ω—ñ –¥–ª—è —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è (required: header, content)
- **PostUpdateRequest** - –î–∞–Ω—ñ –¥–ª—è –æ–Ω–æ–≤–ª–µ–Ω–Ω—è (–≤—Å—ñ –ø–æ–ª—è –æ–ø—Ü—ñ–æ–Ω–∞–ª—å–Ω—ñ)
- **PaginatedResponse** - –í—ñ–¥–ø–æ–≤—ñ–¥—å –∑ –ø–∞–≥—ñ–Ω–∞—Ü—ñ—î—é
- **Category** - –ú–æ–¥–µ–ª—å –∫–∞—Ç–µ–≥–æ—Ä—ñ—ó
- **User** - –ú–æ–¥–µ–ª—å –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞
- **ErrorResponse** - –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–∏–π —Ñ–æ—Ä–º–∞—Ç –ø–æ–º–∏–ª–æ–∫

## üìù HTTP –∫–æ–¥–∏ –≤—ñ–¥–ø–æ–≤—ñ–¥–µ–π

| –ö–æ–¥ | –û–ø–∏—Å |
|-----|------|
| 200 | –£—Å–ø—ñ—à–Ω–æ |
| 201 | –°—Ç–≤–æ—Ä–µ–Ω–æ |
| 204 | –£—Å–ø—ñ—à–Ω–æ –±–µ–∑ –∫–æ–Ω—Ç–µ–Ω—Ç—É |
| 400 | –ù–µ–≤—ñ—Ä–Ω–∏–π –∑–∞–ø–∏—Ç |
| 401 | –ù–µ –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–∏–π |
| 403 | –ó–∞–±–æ—Ä–æ–Ω–µ–Ω–æ |
| 404 | –ù–µ –∑–Ω–∞–π–¥–µ–Ω–æ |
| 500 | –í–Ω—É—Ç—Ä—ñ—à–Ω—è –ø–æ–º–∏–ª–∫–∞ —Å–µ—Ä–≤–µ—Ä–∞ |

## üîí –ë–µ–∑–ø–µ–∫–∞ –≤ Production

–£ –ø—Ä–æ–¥–∞–∫—à–µ–Ω—ñ Swagger UI –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –≤—ñ–¥–∫–ª—é—á–∞—î—Ç—å—Å—è. –î–ª—è —É–≤—ñ–º–∫–Ω–µ–Ω–Ω—è –≤—Å—Ç–∞–Ω–æ–≤—ñ—Ç—å –∑–º—ñ–Ω–Ω—É —Å–µ—Ä–µ–¥–æ–≤–∏—â–∞:
```bash
ALLOW_SWAGGER_IN_PRODUCTION=true
```

## üõ†Ô∏è –¢–µ—Ö–Ω—ñ—á–Ω—ñ –¥–µ—Ç–∞–ª—ñ

### –í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω—ñ –ø–∞–∫–µ—Ç–∏
- `swagger-ui-express` - UI –¥–ª—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—ó
- `swagger-autogen` - –ê–≤—Ç–æ–≥–µ–Ω–µ—Ä–∞—Ü—ñ—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—ó
- `@types/swagger-ui-express` - TypeScript —Ç–∏–ø–∏

### –ö–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—è
- –§–∞–π–ª–∏ –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—ó: `config/swagger.ts`
- –ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä: `scripts/generateSwagger.ts`
- –í–∏—Ö—ñ–¥–Ω–∏–π —Ñ–∞–π–ª: `swagger-output.json`

### –ö–∞—Å—Ç–æ–º—ñ–∑–∞—Ü—ñ—è
- –¢–µ–º–∞: –ö–∞—Å—Ç–æ–º–Ω–∏–π CSS –¥–ª—è –∫—Ä–∞—â–æ–≥–æ –≤–∏–≥–ª—è–¥—É
- –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü—ñ—è: –ó–±–µ—Ä–µ–∂–µ–Ω–Ω—è —Ç–æ–∫–µ–Ω—ñ–≤ –º—ñ–∂ —Å–µ—Å—ñ—è–º–∏
- –§—ñ–ª—å—Ç—Ä–∞—Ü—ñ—è: –ü–æ—à—É–∫ –ø–æ endpoint'–∞—Ö

## üîß –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è

### –ó–º—ñ–Ω–Ω—ñ —Å–µ—Ä–µ–¥–æ–≤–∏—â–∞
```env
NODE_ENV=development              # –†–µ–∂–∏–º —Ä–æ–∑—Ä–æ–±–∫–∏
ALLOW_SWAGGER_IN_PRODUCTION=false # –î–æ–∑–≤—ñ–ª Swagger –≤ –ø—Ä–æ–¥–∞–∫—à–µ–Ω—ñ
PORT=8000                        # –ü–æ—Ä—Ç —Å–µ—Ä–≤–µ—Ä–∞
```

### –§–∞–π–ª–∏ –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—ó
- `swagger.ts` - –û—Å–Ω–æ–≤–Ω–∞ –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—è Swagger UI
- `generateSwagger.ts` - –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –∞–≤—Ç–æ–≥–µ–Ω–µ—Ä–∞—Ü—ñ—ó
- `swaggerGuard.ts` - Middleware –¥–ª—è –±–µ–∑–ø–µ–∫–∏
